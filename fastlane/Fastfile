ENV['FASTLANE_XCODEBUILD_SETTINGS_TIMEOUT'] = '180'
ENV['FASTLANE_XCODEBUILD_SETTINGS_RETRIES'] = '10'

skip_docs

desc 'Run All Tests'
lane :test do
  run_tests(
    scheme: 'All',
    device: 'iPhone 8',
    configuration: 'Debug',
  )
end

desc 'Build For Release'
lane :build_for_release do
  build_app(
    scheme: 'All',
    configuration: 'Release',
    skip_package_ipa: true,
  )
end

desc 'CI | Pull Request'
lane :ci_pull_request do
  test
  build_for_release
end
